<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/layout :: head('Subscription Plans')}">
    <title>Subscription Plans - Meetruly</title>
</head>
<body>
<div th:replace="~{fragments/layout :: main-layout('Subscription Plans', ~{::section})}" class="subscription-plans-page">
    <section>
        
        <div class="bg-gradient-primary text-white py-4 mb-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1 class="fw-bold mb-1">Subscription Plans</h1>
                        <p class="lead mb-0">Choose the plan that's right for you and start connecting</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="container py-4">
            
            <div class="alert alert-info mb-4" role="alert">
                <div class="d-flex align-items-center">
                    <div class="me-3">
                        <i class="bi bi-info-circle-fill fs-4"></i>
                    </div>
                    <div>
                        <h5 class="alert-heading mb-1">Your current plan:
                            <span th:class="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE ? 'badge bg-secondary' : (currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).SILVER ? 'badge bg-primary' : 'badge bg-warning text-dark')}"
                                  th:text="${currentPlan}">
                                FREE
                            </span>
                        </h5>
                        <p class="mb-0">Select another plan below to upgrade or change your subscription.</p>
                    </div>
                </div>
            </div>

            
            <div class="row g-4 justify-content-center mb-5">
                
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm plan-card" th:classappend="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE ? 'current-plan' : ''}">
                        <div class="card-header text-center bg-white border-0 pt-4">
                            <span class="badge bg-secondary mb-2">FREE</span>
                            <h3 class="card-title fw-bold">Basic</h3>
                            <div class="price-tag my-3">
                                <span class="display-5 fw-bold">€0</span>
                                <span class="text-muted">/month</span>
                            </div>
                        </div>
                        <div class="card-body p-4">
                            <ul class="list-unstyled">
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Create and customize your profile</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Browse profiles with blurred photos</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Send up to <strong th:text="${freePlan.dailyMessageLimit}">3</strong> messages per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>View up to <strong th:text="${freePlan.profileViewsLimit}">10</strong> profiles per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Daily match suggestions</span>
                                </li>
                                <li class="mb-2 d-flex text-muted">
                                    <i class="bi bi-x-circle-fill text-danger me-2 mt-1"></i>
                                    <span>See who liked your profile</span>
                                </li>
                                <li class="mb-2 d-flex text-muted">
                                    <i class="bi bi-x-circle-fill text-danger me-2 mt-1"></i>
                                    <span>See who viewed your profile</span>
                                </li>
                                <li class="mb-2 d-flex text-muted">
                                    <i class="bi bi-x-circle-fill text-danger me-2 mt-1"></i>
                                    <span>Priority in search results</span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer bg-white text-center border-0 pb-4">
                            <th:block th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE}">
                                <button class="btn btn-lg btn-secondary w-100" disabled>Current Plan</button>
                            </th:block>
                            <th:block th:unless="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE}">
                                <a th:href="@{/subscription/switch-to-free}" class="btn btn-lg btn-outline-secondary w-100">Switch to Free</a>
                            </th:block>
                        </div>
                    </div>
                </div>

                
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow plan-card" th:classappend="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).SILVER ? 'current-plan' : ''}">
                        <div class="ribbon" th:if="${currentPlan != T(com.meetruly.core.constant.SubscriptionPlan).SILVER && currentPlan != T(com.meetruly.core.constant.SubscriptionPlan).GOLD}"><span>POPULAR</span></div>
                        <div class="card-header text-center bg-gradient-primary text-white border-0 pt-4">
                            <span class="badge bg-light text-primary mb-2">SILVER</span>
                            <h3 class="card-title fw-bold">Premium</h3>
                            <div class="price-tag my-3">
                                <span class="display-5 fw-bold">€9.99</span>
                                <span>/month</span>
                            </div>
                        </div>
                        <div class="card-body p-4">
                            <ul class="list-unstyled">
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>All FREE plan features</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>View clear photos for limited profiles</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Send up to <strong th:text="${silverPlan.dailyMessageLimit}">15</strong> messages per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>View up to <strong th:text="${silverPlan.profileViewsLimit}">30</strong> profiles per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Medium priority in search results</span>
                                </li>
                                <li class="mb-2 d-flex text-muted">
                                    <i class="bi bi-x-circle-fill text-danger me-2 mt-1"></i>
                                    <span>See who liked your profile</span>
                                </li>
                                <li class="mb-2 d-flex text-muted">
                                    <i class="bi bi-x-circle-fill text-danger me-2 mt-1"></i>
                                    <span>See who viewed your profile</span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer bg-white text-center border-0 pb-4">
                            <th:block th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).SILVER}">
                                <button class="btn btn-lg btn-primary w-100" disabled>Current Plan</button>
                            </th:block>
                            <th:block th:unless="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).SILVER}">
                                <a th:href="@{/subscription/purchase/silver}" class="btn btn-lg btn-primary w-100">
                                    <span th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE}">Upgrade to Silver</span>
                                    <span th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).GOLD}">Switch to Silver</span>
                                </a>
                            </th:block>
                        </div>
                    </div>
                </div>

                
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm plan-card" th:classappend="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).GOLD ? 'current-plan' : ''}">
                        <div class="card-header text-center bg-warning text-dark border-0 pt-4">
                            <span class="badge bg-dark text-warning mb-2">GOLD</span>
                            <h3 class="card-title fw-bold">VIP</h3>
                            <div class="price-tag my-3">
                                <span class="display-5 fw-bold">€19.99</span>
                                <span class="text-muted">/month</span>
                            </div>
                        </div>
                        <div class="card-body p-4">
                            <ul class="list-unstyled">
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>All SILVER plan features</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>View all photos without restrictions</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Unlimited messages per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Unlimited profile views per day</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>High priority in search results</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>See who liked your profile</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>See who viewed your profile</span>
                                </li>
                                <li class="mb-2 d-flex">
                                    <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                                    <span>Read receipts for messages</span>
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer bg-white text-center border-0 pb-4">
                            <th:block th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).GOLD}">
                                <button class="btn btn-lg btn-warning w-100" disabled>Current Plan</button>
                            </th:block>
                            <th:block th:unless="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).GOLD}">
                                <a th:href="@{/subscription/purchase/gold}" class="btn btn-lg btn-warning w-100">
                                    <span th:if="${currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).FREE || currentPlan == T(com.meetruly.core.constant.SubscriptionPlan).SILVER}">Upgrade to Gold</span>
                                </a>
                            </th:block>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-white">
                    <h3 class="h5 fw-bold mb-0">Detailed Plan Comparison</h3>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-striped mb-0">
                            <thead>
                            <tr>
                                <th>Feature</th>
                                <th class="text-center">FREE</th>
                                <th class="text-center">SILVER</th>
                                <th class="text-center">GOLD</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>Price</td>
                                <td class="text-center">€0/month</td>
                                <td class="text-center">€9.99/month</td>
                                <td class="text-center">€19.99/month</td>
                            </tr>
                            <tr>
                                <td>Daily messages</td>
                                <td class="text-center" th:text="${freePlan.dailyMessageLimit}">3</td>
                                <td class="text-center" th:text="${silverPlan.dailyMessageLimit}">15</td>
                                <td class="text-center">Unlimited</td>
                            </tr>
                            <tr>
                                <td>Daily profile views</td>
                                <td class="text-center" th:text="${freePlan.profileViewsLimit}">10</td>
                                <td class="text-center" th:text="${silverPlan.profileViewsLimit}">30</td>
                                <td class="text-center">Unlimited</td>
                            </tr>
                            <tr>
                                <td>View profile photos</td>
                                <td class="text-center">Blurred</td>
                                <td class="text-center">Clear (limited)</td>
                                <td class="text-center">Clear (all)</td>
                            </tr>
                            <tr>
                                <td>See who liked you</td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-check-lg text-success"></i></td>
                            </tr>
                            <tr>
                                <td>See who viewed your profile</td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-check-lg text-success"></i></td>
                            </tr>
                            <tr>
                                <td>Priority in search results</td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center">Medium</td>
                                <td class="text-center">High</td>
                            </tr>
                            <tr>
                                <td>Read receipts for messages</td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-x-lg text-danger"></i></td>
                                <td class="text-center"><i class="bi bi-check-lg text-success"></i></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white">
                    <h3 class="h5 fw-bold mb-0">Frequently Asked Questions</h3>
                </div>
                <div class="card-body p-4">
                    <div class="accordion" id="subscriptionFAQ">
                        <div class="accordion-item border-0 mb-3">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    How do I upgrade my subscription?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#subscriptionFAQ">
                                <div class="accordion-body">
                                    To upgrade your subscription, simply choose the plan you want from this page and click the "Upgrade" button. You'll be prompted to enter your payment information to complete the purchase.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item border-0 mb-3">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Can I cancel my subscription anytime?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#subscriptionFAQ">
                                <div class="accordion-body">
                                    Yes, you can cancel your subscription at any time. Go to your subscription page and disable auto-renewal. Your subscription will remain active until the end of the current billing period, after which you'll be automatically switched to the FREE plan.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item border-0 mb-3">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    What payment methods do you accept?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#subscriptionFAQ">
                                <div class="accordion-body">
                                    We accept credit cards (Visa, MasterCard, American Express) and PayPal as payment methods for subscription plans.
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item border-0">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    What happens when my message or profile view limit is reached?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#subscriptionFAQ">
                                <div class="accordion-body">
                                    When you reach your daily message or profile view limit, you'll need to wait until midnight when the counters reset. Alternatively, you can upgrade your subscription plan to get higher limits or unlimited access, depending on the plan.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>


<style>
    .subscription-plans-page .plan-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .subscription-plans-page .plan-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 1rem 3rem rgba(0,0,0,.175)!important;
    }

    .subscription-plans-page .current-plan {
        border: 2px solid #0d6efd !important;
        position: relative;
    }

    .subscription-plans-page .current-plan::after {
        content: "Current Plan";
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: #0d6efd;
        color: white;
        padding: 3px 10px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: bold;
    }

    .subscription-plans-page .ribbon {
        position: absolute;
        top: 0;
        right: 0;
        width: 150px;
        height: 150px;
        overflow: hidden;
        z-index: 1;
    }

    .subscription-plans-page .ribbon span {
        position: absolute;
        display: block;
        width: 225px;
        padding: 5px 0;
        background-color: #ff6b6b;
        color: white;
        font-size: 0.8rem;
        font-weight: bold;
        text-align: center;
        transform: rotate(45deg);
        top: 35px;
        right: -55px;
    }

    .subscription-plans-page .bg-gradient-primary {
        background-image: linear-gradient(135deg, #6f42c1, #0d6efd);
    }
</style>
</body>
</html>